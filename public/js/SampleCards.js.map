{"version":3,"names":[],"mappings":"","sources":["SampleCards.js"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.SampleCards = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({\"/Users/frank/Documents/Projects/CustomCards/modules/HelloWorld/HelloWorld.jsx\":[function(require,module,exports){\n'use strict';\n\nvar HelloWorld = {};\nHelloWorld.HelloWorld = require('./cards/HelloWorld.jsx');\nHelloWorld.HelloWorldProperties = require('./customization/HelloWorldProperties.jsx');\nHelloWorld.HelloWorldStore = require('./stores/HelloWorldStore.js');\n\nmodule.exports = HelloWorld;\n\n},{\"./cards/HelloWorld.jsx\":\"/Users/frank/Documents/Projects/CustomCards/modules/HelloWorld/cards/HelloWorld.jsx\",\"./customization/HelloWorldProperties.jsx\":\"/Users/frank/Documents/Projects/CustomCards/modules/HelloWorld/customization/HelloWorldProperties.jsx\",\"./stores/HelloWorldStore.js\":\"/Users/frank/Documents/Projects/CustomCards/modules/HelloWorld/stores/HelloWorldStore.js\"}],\"/Users/frank/Documents/Projects/CustomCards/modules/HelloWorld/cards/HelloWorld.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar IoTFCommon = (typeof window !== \"undefined\" ? window['IoTFCommon'] : typeof global !== \"undefined\" ? global['IoTFCommon'] : null);\nvar LoadIndicator = IoTFCommon.LoadIndicator;\nvar HelloWorldStore = require('../stores/HelloWorldStore.js');\n\nvar RPT = React.PropTypes;\n\nvar styles = {\n  container: {\n    width: \"100%\",\n    height: \"100%\",\n    padding: \"20px\",\n    backgroundSize: \"100%\",\n    backgroundRepeat: \"no-repeat\"\n  },\n  counter: {\n    fontSize: \"60px\",\n    textAlign: \"center\",\n    width: \"100%\",\n    paddingTop: \"20px\"\n  }\n};\n\nvar HelloWorld = React.createClass({\n  displayName: 'HelloWorld',\n\n  propTypes: {\n    theme: RPT.object.isRequired,\n    style: RPT.object,\n    nls: RPT.object,\n    wrapper: RPT.object,\n    height: RPT.string,\n    weight: RPT.string,\n    helloColor: RPT.number\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      helloColor: 0\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      message: \"n/a\",\n      count: -1\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    HelloWorldStore.listen(this.onUpdate);\n    HelloWorldStore.Actions.sayHello(\"Hi there!\");\n  },\n\n  onUpdate: function onUpdate(payload) {\n    if (this.isMounted()) {\n      if (payload.helloMessage || payload.helloCount !== undefined) {\n        var model = {};\n        if (payload.helloMessage) {\n          model.message = payload.helloMessage;\n        }\n        if (payload.helloCount) {\n          model.count = payload.helloCount;\n        }\n        this.setState(model);\n      }\n    }\n  },\n\n  render: function render() {\n    var self = this;\n    if (this.state.message && this.state.count > -1) {\n\n      var style = Object.assign({}, styles.container, this.props.style ? this.props.style : {});\n      style = Object.assign(style, { color: this.props.theme.schemes[this.props.helloColor].normal });\n\n      if (this.props.wrapper.width > 2) {\n        // we could link to the kitty image in the resource folder but the url depends on the location of the package.\n        // Therefore we point to the original on the Web.\n        style = Object.assign(style, { backgroundImage: \"url('http://wallpaper.pickywallpapers.com/1366x768/little-kitty.jpg')\" });\n      }\n\n      return React.createElement(\n        'div',\n        { style: style },\n        'The store says:',\n        React.createElement(\n          'div',\n          { className: 'helloWorld' },\n          this.state.message\n        ),\n        React.createElement(\n          'div',\n          { style: styles.counter },\n          this.state.count\n        )\n      );\n    } else {\n      return React.createElement(\n        'div',\n        { style: styles.style },\n        React.createElement(LoadIndicator, { theme: this.props.theme, useDataPoints: false })\n      );\n    }\n  }\n});\n\nmodule.exports = HelloWorld;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../stores/HelloWorldStore.js\":\"/Users/frank/Documents/Projects/CustomCards/modules/HelloWorld/stores/HelloWorldStore.js\"}],\"/Users/frank/Documents/Projects/CustomCards/modules/HelloWorld/customization/HelloWorldProperties.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar IoTFCommon = (typeof window !== \"undefined\" ? window['IoTFCommon'] : typeof global !== \"undefined\" ? global['IoTFCommon'] : null);\nvar RPT = React.PropTypes;\nvar InputField = IoTFCommon.InputField;\nvar Label = IoTFCommon.Label;\nvar ColorSelection = IoTFCommon.ColorSelection;\n\nvar styles = {\n  container: {},\n  table: {\n    width: \"100%\"\n  }\n};\n\nvar HelloWorldProperties = React.createClass({\n  displayName: 'HelloWorldProperties',\n\n  propTypes: {\n    helloColor: RPT.string,\n    nls: RPT.object,\n    style: RPT.object,\n    theme: RPT.object.isRequired\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      helloColor: 0\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      helloColor: this.props.helloColor\n    };\n  },\n\n  onColorChanged: function onColorChanged(value) {\n    this.setState({\n      helloColor: value\n    });\n  },\n\n  onUpdate: function onUpdate(state) {\n    var state = Object.assign({}, this.state, state);\n    this.setState(state);\n  },\n\n  render: function render() {\n    var self = this;\n\n    if (this.state) {\n      return React.createElement(\n        'div',\n        { style: Object.assign({}, styles.container, this.props.style) },\n        React.createElement(\n          'table',\n          { style: styles.table },\n          React.createElement(\n            'tbody',\n            null,\n            React.createElement(\n              'tr',\n              null,\n              React.createElement(\n                'td',\n                { colSpan: '2' },\n                React.createElement(\n                  Label,\n                  { label: this.props.nls.resolve('ColorScheme'), theme: this.props.theme },\n                  React.createElement(ColorSelection, { theme: this.props.theme, onChange: this.onColorChanged, initialSelection: this.state.helloColor })\n                )\n              )\n            )\n          )\n        )\n      );\n    } else {\n      return React.createElement('div', null);\n    }\n  }\n});\n\nmodule.exports = HelloWorldProperties;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/CustomCards/modules/HelloWorld/stores/HelloWorldStore.js\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\n\nvar Actions = Reflux.createActions(['sayHello']);\n\nvar HelloWorldStore = Reflux.createStore({\n\n  Actions: Actions,\n  helloCount: 0,\n\n  init: function init() {\n    this.listenTo(Actions.sayHello, this.onSayHello);\n    var self = this;\n    setInterval(function () {\n      self.helloCount++;\n      self.trigger({\n        helloCount: self.helloCount\n      });\n    }, 1000);\n  },\n\n  onSayHello: function onSayHello(payload) {\n    this.trigger({\n      helloMessage: \"Hello from the store!\",\n      helloCount: this.helloCount\n    });\n  }\n\n});\n\nmodule.exports = HelloWorldStore;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/CustomCards/modules/Maintenance/Maintenance.jsx\":[function(require,module,exports){\n'use strict';\n\nvar Maintenance = {};\nMaintenance.Maintenance = require('./cards/Maintenance.jsx');\nMaintenance.MaintenanceStore = require('./stores/MaintenanceStore.js');\n\nmodule.exports = Maintenance;\n\n},{\"./cards/Maintenance.jsx\":\"/Users/frank/Documents/Projects/CustomCards/modules/Maintenance/cards/Maintenance.jsx\",\"./stores/MaintenanceStore.js\":\"/Users/frank/Documents/Projects/CustomCards/modules/Maintenance/stores/MaintenanceStore.js\"}],\"/Users/frank/Documents/Projects/CustomCards/modules/Maintenance/cards/Maintenance.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar IoTFCommon = (typeof window !== \"undefined\" ? window['IoTFCommon'] : typeof global !== \"undefined\" ? global['IoTFCommon'] : null);\nvar LoadIndicator = IoTFCommon.LoadIndicator;\nvar MaintenanceStore = require('../stores/MaintenanceStore.js');\nvar Button = IoTFCommon.Button;\nvar Label = IoTFCommon.Label;\n\nvar RPT = React.PropTypes;\n\nvar styles = {\n  container: {\n    width: \"100%\",\n    height: \"100%\",\n    padding: \"20px\"\n  }\n};\n\nvar Maintenance = React.createClass({\n  displayName: 'Maintenance',\n\n  propTypes: {\n    theme: RPT.object.isRequired,\n    style: RPT.object,\n    nls: RPT.object,\n    wrapper: RPT.object,\n    height: RPT.string,\n    weight: RPT.string\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {};\n  },\n\n  getInitialState: function getInitialState() {\n    return {};\n  },\n\n  componentDidMount: function componentDidMount() {\n    MaintenanceStore.listen(this.onUpdate);\n  },\n\n  onUpdate: function onUpdate(payload) {\n    if (this.isMounted()) {\n      if (payload.dashboards) {\n        var model = {};\n        if (payload.dashboards) {\n          model.dashboards = payload.dashboards;\n        }\n        this.setState(model);\n      }\n    }\n  },\n\n  onBackup: function onBackup() {\n    MaintenanceStore.Actions.backupDashboard();\n  },\n\n  onRestore: function onRestore() {\n    var button = document.getElementById(\"uploadButton\");\n    button.click();\n  },\n\n  onUploadRestoreFile: function onUploadRestoreFile() {\n    var button = document.getElementById(\"uploadButton\");\n    var files = button.files;\n    if (files && files.length > 0) {\n      var file = files[0];\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        var content = e.target.result;\n        console.log(content);\n        MaintenanceStore.Actions.restoreDashboard({ content: content });\n      };\n      reader.readAsBinaryString(file);\n    }\n  },\n\n  onStartLogging: function onStartLogging() {\n    MaintenanceStore.Actions.startLogging();\n  },\n\n  onStopLogging: function onStopLogging() {\n    MaintenanceStore.Actions.stopLogging();\n  },\n\n  onDownloadLog: function onDownloadLog() {\n    MaintenanceStore.Actions.downloadLog();\n  },\n\n  render: function render() {\n    var self = this;\n\n    var style = Object.assign({}, styles.container, this.props.style ? this.props.style : {});\n\n    var backupButton = \"\";\n    if (this.state.dashboards) {\n      backupButton = React.createElement(Button, { key: 1, download: \"DashboardBackup.json\", onClick: function onClick() {\n          setTimeout(function () {\n            self.setState({ dashboards: null });\n          }, 1000);\n        }, target: \"_blank\", href: \"data:text/json;charset=utf-8,\" + this.state.dashboards, text: \"Download Backup\" });\n    } else {\n      backupButton = React.createElement(Button, { key: 2, onClick: self.onBackup, text: \"Generate Backup\" });\n    }\n\n    return React.createElement(\n      'div',\n      { style: style },\n      React.createElement(\n        Label,\n        { label: \"Dashboard\", theme: this.props.theme },\n        backupButton,\n        React.createElement(Button, { onClick: self.onRestore, text: \"Restore\" }),\n        React.createElement('input', { id: 'uploadButton', onChange: this.onUploadRestoreFile, type: \"file\", style: { display: \"none\" } })\n      ),\n      React.createElement(\n        Label,\n        { label: \"Logs\", theme: this.props.theme },\n        React.createElement(Button, { onClick: self.onBackup, text: \"Start log\" }),\n        React.createElement(Button, { onClick: self.onRestore, text: \"Stop log\" }),\n        React.createElement(Button, { onClick: self.onBackup, text: \"Download log\" })\n      )\n    );\n  }\n});\n\nmodule.exports = Maintenance;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../stores/MaintenanceStore.js\":\"/Users/frank/Documents/Projects/CustomCards/modules/Maintenance/stores/MaintenanceStore.js\"}],\"/Users/frank/Documents/Projects/CustomCards/modules/Maintenance/stores/MaintenanceStore.js\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\nvar DashboardStore = IoTFComponents.Dashboard.DashboardStore;\n\nvar Actions = Reflux.createActions(['backupDashboard', 'restoreDashboard', 'startLogging', 'stopLogging', 'downloadLog']);\n\nvar MaintenanceStore = Reflux.createStore({\n\n  Actions: Actions,\n\n  init: function init() {\n    this.listenTo(Actions.backupDashboard, this.onBackupDashboard);\n    this.listenTo(Actions.restoreDashboard, this.onRestoreDashboard);\n    this.listenTo(Actions.startLogging, this.onStartLogging);\n    this.listenTo(Actions.stopLogging, this.onStopLogging);\n    this.listenTo(Actions.downloadLog, this.onDownloadLog);\n  },\n\n  onBackupDashboard: function onBackupDashboard() {\n    var dashboards = DashboardStore.dashboards;\n    var json = JSON.stringify(dashboards);\n\n    this.trigger({\n      dashboards: json\n    });\n  },\n\n  onRestoreDashboard: function onRestoreDashboard(payload) {\n    var ds = DashboardStore;\n    var content = payload.content;\n    try {\n      var obj = JSON.parse(content);\n      ds.dashboards = obj;\n\n      ds.cleanup();\n\n      var dashboard = ds.dashboards.dashboards[0];\n\n      var name = null;\n      if (!name && ds.dashboards.settings && ds.dashboards.settings.defaultDashboard) {\n        name = ds.dashboards.settings.defaultDashboard;\n      }\n\n      if (name) {\n        var temp = ds.getDashboardByName(name);\n        if (temp) {\n          dashboard = temp;\n        }\n      }\n\n      ds.dashboard = dashboard;\n\n      ds.trigger({ components: ds.getComponents(), dashboard: ds.dashboard });\n      ds.storeDashboard();\n    } catch (e) {\n      this.trigger({\n        error: \"Restore failed\"\n      });\n    }\n  },\n\n  onStartLogging: function onStartLogging() {\n    this.trigger({});\n  },\n\n  onStopLogging: function onStopLogging() {\n    this.trigger({});\n  },\n\n  onDownloadLog: function onDownloadLog() {\n    this.trigger({});\n  }\n\n});\n\nmodule.exports = MaintenanceStore;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/CustomCards/modules/Modules.jsx\":[function(require,module,exports){\n'use strict';\n\nvar Modules = {};\nModules.HelloWorld = require('./HelloWorld/HelloWorld.jsx');\nModules.Maintenance = require('./Maintenance/Maintenance.jsx');\nmodule.exports = Modules;\n\n},{\"./HelloWorld/HelloWorld.jsx\":\"/Users/frank/Documents/Projects/CustomCards/modules/HelloWorld/HelloWorld.jsx\",\"./Maintenance/Maintenance.jsx\":\"/Users/frank/Documents/Projects/CustomCards/modules/Maintenance/Maintenance.jsx\"}]},{},[\"/Users/frank/Documents/Projects/CustomCards/modules/Modules.jsx\"])(\"/Users/frank/Documents/Projects/CustomCards/modules/Modules.jsx\")\n});"],"file":"SampleCards.js","sourceRoot":"/source/"}